{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://blog-kit.dev/schemas/structure.json",
  "title": "Article Structure",
  "description": "Article sections and components",
  "type": "object",
  "required": ["sections"],
  "properties": {
    "sections": {
      "type": "array",
      "description": "Article sections",
      "items": {
        "type": "object",
        "required": ["id", "heading", "level"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Section identifier",
            "pattern": "^[a-z0-9-]+$"
          },
          "heading": {
            "type": "string",
            "description": "Section heading text"
          },
          "level": {
            "type": "string",
            "description": "Heading level",
            "enum": ["h2", "h3", "h4"]
          },
          "content": {
            "type": "string",
            "description": "Section markdown content"
          },
          "components": {
            "type": "array",
            "description": "Components within section",
            "items": {
              "type": "object",
              "required": ["type"],
              "properties": {
                "type": {
                  "type": "string",
                  "description": "Component type identifier"
                },
                "id": {
                  "type": "string",
                  "description": "Component instance ID"
                },
                "data": {
                  "type": "object",
                  "description": "Component data (schema depends on type)"
                }
              }
            }
          },
          "subsections": {
            "type": "array",
            "description": "Nested subsections",
            "items": {
              "$ref": "#/properties/sections/items"
            }
          }
        }
      }
    }
  },
  "additionalProperties": false
}
